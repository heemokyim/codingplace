<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Flask Basic</title>
        <!-- <link href="static/profile.css" type="text/css" rel="stylesheet" /> -->
        <link href="{{ url_for('static', filename='profile.css') }}" rel="stylesheet" />
    </head>
    <body>

        {% if name %}
            <h1 style="color:red;">Hello, {{name}}</h1>
        {% else %}
            <h1>Hello noname!</h1>
        {% endif %}

        <input id="name" type="text" placeholder="name">
        <button id="getData">Get Data</button><br>
        <p> Result : <span id="result"></span></p>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        <script type="text/javascript">
            $(document).ready(function(){
                $("#getData").click(function(){
                    var name = $("#name").val();
                    var request_url = name === "" ? "/people" : "/people/" + name
                    $.getJSON(request_url, function(data){
                        console.log(data);
                        var data = JSON.stringify(data)
                        $("#result").text(data);
                    })
                })
            })
        </script>
    </body>
</html>
